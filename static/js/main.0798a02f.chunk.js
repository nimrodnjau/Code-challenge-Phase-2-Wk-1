(this["webpackJsonpreact-hooks-bank-of-flatiron-code-challenge"]=this["webpackJsonpreact-hooks-bank-of-flatiron-code-challenge"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n(11),s=n.n(c),i=n(10),o=n(3),u=n(2),l=n.n(u),d=n(5);var j=function(e){var t=e.transaction,n=e.onDelete,a=t.id,c=t.date,s=t.description,i=t.category,o=t.amount,u=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8001/transactions/".concat(a),{method:"DELETE"});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Failed to delete transaction");case 6:n(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error deleting transaction:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:s}),Object(r.jsx)("td",{children:i}),Object(r.jsx)("td",{children:o}),Object(r.jsx)("td",{children:Object(r.jsx)("button",{onClick:u,children:"Delete"})})]})};var h=function(e){var t=e.transactions,n=e.onDelete;return Object(r.jsx)("table",{className:"ui celled striped padded table",children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:Object(r.jsx)("h3",{className:"ui center aligned header",children:"Date"})}),Object(r.jsx)("th",{children:Object(r.jsx)("h3",{className:"ui center aligned header",children:"Description"})}),Object(r.jsx)("th",{children:Object(r.jsx)("h3",{className:"ui center aligned header",children:"Category"})}),Object(r.jsx)("th",{children:Object(r.jsx)("h3",{className:"ui center aligned header",children:"Amount"})})]}),t&&t.map((function(e){return Object(r.jsx)(j,{transaction:e,onDelete:n},e.id)}))]})})};var b=function(e){var t=e.transactions,n=e.onSearch,c=Object(a.useState)(""),s=Object(o.a)(c,2),i=s[0],u=s[1];return Object(r.jsxs)("div",{className:"ui large fluid icon input",children:[Object(r.jsx)("input",{type:"text",placeholder:"Search your Recent Transactions",value:i,onChange:function(e){var r=e.target.value;u(r);var a=t.filter((function(e){return e.description.toLowerCase().includes(r.toLowerCase())}));n(a)}}),Object(r.jsx)("i",{className:"circular search link icon"})]})},p=n(7),O=n(9);var f=function(e){e.transactions;var t=e.onSubmission,n=Object(a.useState)({date:"",description:"",category:"",amount:0}),c=Object(o.a)(n,2),s=c[0],i=c[1];function u(e){var t=e.target,n=t.name,r=t.value;i((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(p.a)({},n,r))}))}var j=function(){var e=Object(d.a)(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,h(s);case 4:r=e.sent,t(r),i({date:"",description:"",category:"",amount:0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error submitting transaction:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:8001",e.prev=1,e.next=4,fetch("".concat("http://localhost:8001","/transactions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Failed to add transaction");case 7:return e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("Error adding transaction:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:"ui segment",children:Object(r.jsxs)("form",{className:"ui form",onSubmit:j,children:[Object(r.jsxs)("div",{className:"inline fields",children:[Object(r.jsx)("input",{value:s.date,type:"date",name:"date",onChange:u}),Object(r.jsx)("input",{value:s.description,type:"text",name:"description",placeholder:"Description",onChange:u}),Object(r.jsx)("input",{value:s.category,type:"text",name:"category",placeholder:"Category",onChange:u}),Object(r.jsx)("input",{value:s.amount,type:"number",name:"amount",placeholder:"Amount",step:"0.01",onChange:u})]}),Object(r.jsx)("button",{className:"ui button",type:"submit",children:"Add Transaction"})]})})};var x=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){fetch("http://localhost:8001/transactions").then((function(e){return e.json()})).then((function(e){c(e),d(e)}))}),[]);var s=Object(a.useState)([]),u=Object(o.a)(s,2),l=u[0],d=u[1];return Object(r.jsxs)("div",{children:[Object(r.jsx)(b,{transactions:n,onSearch:function(e){d(e)}}),Object(r.jsx)(f,{transactions:n,onSubmission:function(e){var t={id:e.id,date:e.date,description:e.description,category:e.category,amount:e.amount};c([].concat(Object(i.a)(n),[e])),d([].concat(Object(i.a)(l),[t]))}}),Object(r.jsx)(h,{transactions:l,onDelete:function(e){var t=n.filter((function(t){return t.id!==e}));c(t);var r=l.filter((function(t){return t.id!==e}));d(r)}})]})};var v=function(){return Object(r.jsxs)("div",{className:"ui raised segment",children:[Object(r.jsx)("div",{className:"ui segment violet inverted",children:Object(r.jsx)("h2",{children:"The Royal Bank of Flatiron"})}),Object(r.jsx)(x,{})]})};n(18),n(19);s.a.render(Object(r.jsx)(v,{}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.0798a02f.chunk.js.map